<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä»»åŠ¡ä¸‰ï¼šæ‰¹åˆ¤æ€§è¯„ä¼°</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .task-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            display: flex;
            gap: 20px;
        }
        
        .task-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e74c3c;
        }
        
        .task-timer {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #e74c3c;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-weight: bold;
            z-index: 1000;
        }
        
        .main-article {
            flex: 2;
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .sidebar-info {
            flex: 1;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .article-title {
            color: #2c3e50;
            margin-bottom: 15px;
            border-bottom: 2px solid #f39c12;
            padding-bottom: 10px;
        }
        
        .article-meta {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
            font-size: 0.9em;
            color: #666;
        }
        
        .attention-grabber {
            background: linear-gradient(135deg, #ffeaa7, #fab1a0);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 5px solid #e17055;
            font-weight: bold;
        }
        
        .suspicious-statement {
            background: #ffebee;
            border: 2px dashed #ef5350;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            cursor: pointer;
        }
        
        .suspicious-statement:hover {
            background: #ffcdd2;
        }
        
        .testimonial {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 15px 0;
            font-style: italic;
        }
        
        .advertisement {
            background: #fff3e0;
            border: 2px solid #ff9800;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            position: relative;
        }
        
        .ad-label {
            position: absolute;
            top: -10px;
            right: 10px;
            background: #ff9800;
            color: white;
            padding: 3px 10px;
            border-radius: 3px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .buy-button {
            background: linear-gradient(135deg, #ff7675, #fd79a8);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            display: block;
            width: 100%;
            margin-top: 10px;
            transition: transform 0.3s;
        }
        
        .buy-button:hover {
            transform: scale(1.05);
        }
        
        .source-info {
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            cursor: pointer;
        }
        
        .source-info:hover {
            background: #e0e0e0;
        }
        
        .paywall-note {
            color: #e74c3c;
            font-size: 0.9em;
            margin-top: 5px;
        }
        
        .conflict-of-interest {
            background: #ffebee;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-size: 0.9em;
        }
        
        .evaluation-form {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-top: 30px;
        }
        
        .evaluation-dimension {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        
        .dimension-title {
            color: #2c3e50;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .rating-scale {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
        }
        
        .rating-option {
            flex: 1;
            text-align: center;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin: 0 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .rating-option:hover {
            background: #e3f2fd;
            border-color: #2196f3;
        }
        
        .rating-option.selected {
            background: #2196f3;
            color: white;
            border-color: #1976d2;
        }
        
        .critical-thinking-tips {
            background: #e8f5e9;
            border: 1px solid #81c784;
            border-radius: 5px;
            padding: 15px;
            margin: 20px 0;
            font-size: 0.9em;
        }
        
        .tip-item {
            margin: 8px 0;
            padding-left: 20px;
            position: relative;
        }
        
        .tip-item:before {
            content: "ğŸ’¡";
            position: absolute;
            left: 0;
        }
        
        .click-tracker {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: #2c3e50;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 0.9em;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="task-timer" id="taskTimer">00:00</div>
    <div class="click-tracker" id="clickTracker">ç‚¹å‡»ï¼š0æ¬¡</div>
    
    <div class="task-container">
        <div class="main-article">
            <div class="task-header">
                <h1><i class="fas fa-balance-scale"></i> ä»»åŠ¡ä¸‰ï¼šæ‰¹åˆ¤æ€§è¯„ä¼°</h1>
                <p>è¯·è¯„ä¼°ä»¥ä¸‹ç½‘ç»œæ–‡ç« çš„å¯ä¿¡åº¦ï¼Œè¯†åˆ«æ½œåœ¨é—®é¢˜</p>
            </div>
            
            <div class="article-title">
                <h2>æ¯å¤©ä¸€æ¯çº¢é…’èƒ½å»¶é•¿å¯¿å‘½ï¼Ÿæœ€æ–°ç ”ç©¶å‘ç°æƒŠäººæ•ˆæœ</h2>
                <p class="article-meta">
                    <i class="fas fa-globe"></i> å¥åº·ç”Ÿæ´»ç½‘ | 
                    <i class="fas fa-eye"></i> é˜…è¯»é‡ï¼š10ä¸‡+ | 
                    <i class="fas fa-clock"></i> å‘å¸ƒæ—¶é—´ï¼š2024å¹´1æœˆ20æ—¥
                </p>
            </div>
            
            <div class="attention-grabber" id="attention-grabber">
                <i class="fas fa-bullhorn"></i> ç§‘å­¦å®¶ç»ˆäºæ‰¾åˆ°äº†"æ³•å…°è¥¿æ‚–è®º"çš„ç§˜å¯†é’¥åŒ™ï¼ä¸€é¡¹å†æ—¶åå¹´çš„è·¨å›½ç ”ç©¶å‘ç°ï¼Œæ¯å¤©é¥®ç”¨ä¸€æ¯çº¢é…’ï¼Œèƒ½ä½¿é¢„æœŸå¯¿å‘½å»¶é•¿3-5å¹´ã€‚è¿™ä¸ªæƒŠäººçš„å‘ç°å¯èƒ½å½»åº•æ”¹å˜æˆ‘ä»¬çš„å¥åº·è§‚å¿µã€‚
            </div>
            
            <div class="article-content">
                <h3>çªç ´æ€§ç ”ç©¶ï¼šçº¢é…’ä¸­çš„ç™½è—œèŠ¦é†‡èƒ½æ¿€æ´»é•¿å¯¿åŸºå› </h3>
                
                <div class="suspicious-statement" id="exaggerated-statement">
                    <p><strong>å“ˆä½›å¤§å­¦ä¸ç‰›æ´¥å¤§å­¦è”åˆç ”ç©¶å›¢é˜Ÿå¯¹5ä¸‡åæˆå¹´äººè¿›è¡Œäº†è·Ÿè¸ªè°ƒæŸ¥ã€‚ç»“æœæ˜¾ç¤ºï¼š</strong></p>
                    <blockquote>
                        "è§„å¾‹æ€§é€‚é‡é¥®ç”¨çº¢é…’çš„å‚ä¸è€…ï¼Œå¿ƒè¡€ç®¡ç–¾ç—…é£é™©é™ä½40%ï¼Œç³–å°¿ç—…é£é™©é™ä½35%ï¼Œé˜¿å°”èŒ¨æµ·é»˜ç—…é£é™©é™ä½30%ã€‚æ•ˆæœå ªæ¯”æ¯å‘¨è¿åŠ¨5å°æ—¶ï¼"
                    </blockquote>
                </div>
                
                <p>ç ”ç©¶è´Ÿè´£äººDr. Smithå…´å¥‹åœ°è¡¨ç¤ºï¼š"ç™½è—œèŠ¦é†‡è¿™ç§ç¥å¥‡ç‰©è´¨ä¸ä»…èƒ½æ¸…é™¤è‡ªç”±åŸºï¼Œè¿˜èƒ½æ¿€æ´»SIRT1é•¿å¯¿åŸºå› ã€‚è¿™æ˜¯æŠ—è¡°è€é¢†åŸŸçš„é‡Œç¨‹ç¢‘å¼çªç ´ã€‚"</p>
                
                <div class="source-reference">
                    <p><strong>æƒå¨å¼•ç”¨ï¼š</strong>è¯¥ç ”ç©¶å·²å‘è¡¨äºã€Šè‡ªç„¶Â·åŒ»å­¦ã€‹å­åˆŠï¼ˆNature Medicineï¼‰ï¼Œå½±å“å› å­é«˜è¾¾32.4ã€‚å¤šä½è¯ºè´å°”å¥–å¾—ä¸»æ¨èäº†è¿™ä¸€å¥åº·æ–¹æ¡ˆã€‚</p>
                </div>
                
                <div class="testimonial" id="personal-testimonial">
                    <p><strong>ä¸ªäººè§è¯ï¼š</strong>72å²çš„æå¤§çˆ·åˆ†äº«é“ï¼š"æˆ‘åšæŒæ™šé¥­æ—¶å–ä¸€æ¯çº¢é…’å·²ç»åå¹´äº†ï¼Œç°åœ¨è¡€å‹ã€è¡€ç³–éƒ½æ­£å¸¸ï¼Œçœ‹èµ·æ¥æ¯”åŒé¾„äººå¹´è½»åå²ï¼"</p>
                </div>
                
                <div class="attention-grabber">
                    <i class="fas fa-exclamation-circle"></i> æƒ³æ‹¥æœ‰å¥åº·é•¿å¯¿çš„äººç”Ÿå—ï¼Ÿä»ä»Šæ™šå¼€å§‹ï¼Œç»™è‡ªå·±çš„ç”Ÿæ´»åŠ ä¸€æ¯çº¢é…’å§ï¼
                </div>
            </div>
            
            <div class="advertisement" id="advertisement">
                <div class="ad-label">å¹¿å‘Š</div>
                <h4>ä»Šæ—¥æ¨èï¼šæ™®ç½—æ—ºæ–¯åº„å›­ç‰¹çº§å¹²çº¢</h4>
                <p><del>åŸä»·ï¼šÂ¥588/ç“¶</del> <strong style="color: #e74c3c; font-size: 1.2em;">é™æ—¶ä»·ï¼šÂ¥299/ç“¶</strong></p>
                <p><small>ï¼ˆä¹°äºŒé€ä¸€ï¼ŒåŒ…é‚®ï¼‰</small></p>
                
                <div class="ad-details">
                    <p><i class="fas fa-star"></i> <strong>ä¸“å®¶ç²¾é€‰ï¼š</strong>é€‚åˆåˆå­¦è€…çš„å¹³è¡¡å£æ„Ÿ</p>
                    <p><i class="fas fa-comment"></i> <strong>ç”¨æˆ·è¯„ä»·ï¼š</strong>â­â­â­â­â˜†ï¼ˆ4.5åˆ†ï¼Œ2568æ¡è¯„ä»·ï¼‰</p>
                </div>
                
                <button class="buy-button" id="buyButton">
                    <i class="fas fa-shopping-cart"></i> ç«‹å³è´­ä¹°
                </button>
            </div>
        </div>
        
        <div class="sidebar-info">
            <h3><i class="fas fa-info-circle"></i> æ–‡ç« ä¿¡æ¯æ¥æº</h3>
            <p><small>æ³¨ï¼šç‚¹å‡»æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</small></p>
            
            <div class="source-info" id="source-research">
                <h4>1. ç ”ç©¶åŸæ–‡</h4>
                <p><button class="btn-link">ç‚¹å‡»æŸ¥çœ‹ç ”ç©¶åŸæ–‡</button></p>
                <p class="paywall-note">å®é™…ä¸ºä»˜è´¹å¢™ï¼Œæ— æ³•ç›´æ¥è®¿é—®</p>
            </div>
            
            <div class="source-info" id="source-data">
                <h4>2. æ•°æ®æ¥æº</h4>
                <p>"æ¬§æ´²å¿ƒè„æ‚å¿—2018å¹´çš„ä¸€é¡¹ç ”ç©¶"</p>
                <p class="paywall-note">å®é™…ç ”ç©¶ç»“è®ºä¸º"å°‘é‡é¥®é…’å¯èƒ½ä¸è¾ƒä½å† å¿ƒç—…é£é™©ç›¸å…³ï¼Œä½†å› æœå…³ç³»æœªç¡®å®š"</p>
            </div>
            
            <div class="source-info" id="source-expert">
                <h4>3. ä¸“å®¶èµ„è´¨</h4>
                <p>"å“ˆä½›å¤§å­¦ç ”ç©¶å›¢é˜Ÿ"</p>
                <p class="paywall-note">å®é™…æŸ¥æ— Dr. Smithæ­¤äºº</p>
            </div>
            
            <div class="conflict-of-interest">
                <h4>4. åˆ©ç›Šå£°æ˜</h4>
                <p><i class="fas fa-exclamation-triangle"></i> <strong>æœªæŠ«éœ²</strong></p>
                <p><small>ç½‘ç«™åŒæ—¶é”€å”®å¤šæ¬¾çº¢é…’äº§å“</small></p>
            </div>
            
            <div class="critical-thinking-tips">
                <h4><i class="fas fa-lightbulb"></i> æ‰¹åˆ¤æ€§æ€è€ƒæç¤º</h4>
                <div class="tip-item">ç ”ç©¶æ ·æœ¬æ˜¯å¦è¶³å¤Ÿå¤§ã€è¶³å¤Ÿå¤šæ ·ï¼Ÿ</div>
                <div class="tip-item">æ•°æ®æ¥æºæ˜¯å¦å¯é ã€å¯éªŒè¯ï¼Ÿ</div>
                <div class="tip-item">æ˜¯å¦å­˜åœ¨åˆ©ç›Šå†²çªæœªæŠ«éœ²ï¼Ÿ</div>
                <div class="tip-item">ç»“è®ºæ˜¯å¦è¿‡äºç»å¯¹åŒ–ï¼Ÿ</div>
                <div class="tip-item">æ˜¯å¦æœ‰å…¶ä»–ç ”ç©¶å¾—å‡ºä¸åŒç»“è®ºï¼Ÿ</div>
            </div>
        </div>
    </div>
    
    <div class="evaluation-form">
        <h3><i class="fas fa-clipboard-check"></i> æ‰¹åˆ¤æ€§è¯„ä¼°ä»»åŠ¡</h3>
        <p>è¯·è¯„ä¼°è¿™ç¯‡æ–‡ç« çš„å¯ä¿¡åº¦ï¼Œå¹¶ç»™å‡ºä½ çš„ç†ç”±ã€‚è¯·ä»ä»¥ä¸‹ç»´åº¦è€ƒè™‘ï¼š</p>
        
        <div class="evaluation-dimension">
            <div class="dimension-title">1. ä¿¡æ¯æ¥æºçš„å¯é æ€§</div>
            <div class="rating-scale" data-dimension="source-reliability">
                <div class="rating-option" data-value="1">å¾ˆä½</div>
                <div class="rating-option" data-value="2">è¾ƒä½</div>
                <div class="rating-option" data-value="3">ä¸€èˆ¬</div>
                <div class="rating-option" data-value="4">è¾ƒé«˜</div>
                <div class="rating-option" data-value="5">å¾ˆé«˜</div>
            </div>
        </div>
        
        <div class="evaluation-dimension">
            <div class="dimension-title">2. ç ”ç©¶æ–¹æ³•çš„ç§‘å­¦æ€§</div>
            <div class="rating-scale" data-dimension="method-scientific">
                <div class="rating-option" data-value="1">ä¸ç§‘å­¦</div>
                <div class="rating-option" data-value="2">ç§‘å­¦æ€§å·®</div>
                <div class="rating-option" data-value="3">ä¸€èˆ¬</div>
                <div class="rating-option" data-value="4">è¾ƒç§‘å­¦</div>
                <div class="rating-option" data-value="5">å¾ˆç§‘å­¦</div>
            </div>
        </div>
        
        <div class="evaluation-dimension">
            <div class="dimension-title">3. ç»“è®ºçš„åˆç†æ€§</div>
            <div class="rating-scale" data-dimension="conclusion-reasonable">
                <div class="rating-option" data-value="1">ä¸åˆç†</div>
                <div class="rating-option" data-value="2">è¾ƒä¸åˆç†</div>
                <div class="rating-option" data-value="3">ä¸€èˆ¬</div>
                <div class="rating-option" data-value="4">è¾ƒåˆç†</div>
                <div class="rating-option" data-value="5">å¾ˆåˆç†</div>
            </div>
        </div>
        
        <div class="evaluation-dimension">
            <div class="dimension-title">4. æ˜¯å¦å­˜åœ¨åˆ©ç›Šå†²çª</div>
            <div class="rating-scale" data-dimension="conflict-interest">
                <div class="rating-option" data-value="1">å¾ˆæ˜æ˜¾</div>
                <div class="rating-option" data-value="2">è¾ƒæ˜æ˜¾</div>
                <div class="rating-option" data-value="3">ä¸ç¡®å®š</div>
                <div class="rating-option" data-value="4">ä¸æ˜æ˜¾</div>
                <div class="rating-option" data-value="5">æ²¡æœ‰</div>
            </div>
        </div>
        
        <div class="evaluation-dimension">
            <label for="detailed-evaluation">
                <div class="dimension-title">5. è¯¦ç»†è¯„ä¼°ç†ç”±</div>
                <p>è¯·è¯¦ç»†è¯´æ˜æ‚¨çš„è¯„ä¼°ä¾æ®ï¼ŒæŒ‡å‡ºæ–‡ç« ä¸­å­˜åœ¨çš„å…·ä½“é—®é¢˜</p>
            </label>
            <textarea id="detailed-evaluation" placeholder="è¯·åœ¨æ­¤å¤„è¾“å…¥æ‚¨çš„è¯¦ç»†è¯„ä¼°..." rows="8"></textarea>
            <div class="word-counter">
                å­—æ•°ï¼š<span id="wordCount">0</span> / å»ºè®®400å­—ä»¥å†…
            </div>
        </div>
        
        <div class="navigation-buttons">
            <button id="btn-prev" class="btn btn-secondary" onclick="location.href='task2.html'">
                <i class="fas fa-arrow-left"></i> è¿”å›ä»»åŠ¡äºŒ
            </button>
            <button id="btn-complete" class="btn btn-success" onclick="location.href='results.html'">
                <i class="fas fa-check-circle"></i> å®Œæˆå®éªŒ
            </button>
        </div>
    </div>

    <script src="data-logger.js"></script>
    <script src="aoi-manager.js"></script>
    <script>
        // å®šä¹‰ä»»åŠ¡3çš„AOIåŒºåŸŸ
        const aoiConfig = {
            attention_grabber: {id: 'attention-grabber', name: 'å¸å¼•çœ¼çƒæ ‡é¢˜åŒº'},
            exaggerated_statement: {id: 'exaggerated-statement', name: 'å¤¸å¼ è¡¨è¿°åŒº'},
            personal_testimonial: {id: 'personal-testimonial', name: 'ä¸ªäººè§è¯åŒº'},
            advertisement: {id: 'advertisement', name: 'å¹¿å‘ŠåŒº'},
            source_research: {id: 'source-research', name: 'ç ”ç©¶åŸæ–‡æ¥æº'},
            source_data: {id: 'source-data', name: 'æ•°æ®æ¥æºåŒº'},
            source_expert: {id: 'source-expert', name: 'ä¸“å®¶èµ„è´¨åŒº'}
        };

        // åˆå§‹åŒ–æ•°æ®è®°å½•
        const dataLogger = new DataLogger('task3');
        const aoiManager = new AOIManager(aoiConfig, dataLogger);

        // è®°å½•é¡µé¢åŠ è½½æ—¶é—´
        dataLogger.logEvent('page_loaded', {
            timestamp: new Date().toISOString(),
            task: 'task3'
        });

        // è®¡æ—¶å™¨
        let startTime = Date.now();
        const timerElement = document.getElementById('taskTimer');
        
        function updateTimer() {
            const elapsed = Date.now() - startTime;
            const minutes = Math.floor(elapsed / 60000);
            const seconds = Math.floor((elapsed % 60000) / 1000);
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        setInterval(updateTimer, 1000);

        // ç‚¹å‡»è¿½è¸ª
        let clickCount = 0;
        const clickTracker = document.getElementById('clickTracker');
        
        document.addEventListener('click', (event) => {
            clickCount++;
            clickTracker.textContent = `ç‚¹å‡»ï¼š${clickCount}æ¬¡`;
            
            dataLogger.logEvent('click', {
                count: clickCount,
                target: event.target.tagName,
                targetId: event.target.id || event.target.className
            });
        });

        // å¯ç–‘å…ƒç´ ç‚¹å‡»è¿½è¸ª
        const suspiciousElements = [
            document.getElementById('exaggerated-statement'),
            document.getElementById('advertisement'),
            document.getElementById('source-research'),
            document.getElementById('source-data'),
            document.getElementById('source-expert')
        ];
        
        suspiciousElements.forEach(element => {
            if (element) {
                element.addEventListener('click', () => {
                    dataLogger.logEvent('suspicious_element_clicked', {
                        elementId: element.id,
                        elementText: element.textContent.substring(0, 50)
                    });
                });
            }
        });

        // å¹¿å‘ŠæŒ‰é’®ç‚¹å‡»
        document.getElementById('buyButton').addEventListener('click', (event) => {
            event.preventDefault();
            alert('è¿™æ˜¯æ¨¡æ‹Ÿå¹¿å‘Šï¼Œä¸ä¼šå®é™…è´­ä¹°');
            
            dataLogger.logEvent('ad_clicked', {
                button: 'buyButton',
                action: 'purchase_attempt'
            });
        });

        // è¯„åˆ†åŠŸèƒ½
        const ratingScales = document.querySelectorAll('.rating-scale');
        const ratings = {};
        
        ratingScales.forEach(scale => {
            const dimension = scale.getAttribute('data-dimension');
            const options = scale.querySelectorAll('.rating-option');
            
            ratings[dimension] = null;
            
            options.forEach(option => {
                option.addEventListener('click', () => {
                    // ç§»é™¤åŒç»„çš„é€‰ä¸­çŠ¶æ€
                    options.forEach(opt => opt.classList.remove('selected'));
                    
                    // è®¾ç½®å½“å‰é€‰ä¸­
                    option.classList.add('selected');
                    const value = option.getAttribute('data-value');
                    ratings[dimension] = value;
                    
                    dataLogger.logEvent('rating_selected', {
                        dimension: dimension,
                        value: value,
                        label: option.textContent
                    });
                });
            });
        });

        // è¯¦ç»†è¯„ä¼°æ¡†
        const evaluationBox = document.getElementById('detailed-evaluation');
        const wordCountElement = document.getElementById('wordCount');
        
        evaluationBox.addEventListener('input', () => {
            const wordCount = evaluationBox.value.trim().length;
            wordCountElement.textContent = wordCount;
            
            dataLogger.logEvent('evaluation_updated', {
                wordCount: wordCount,
                preview: evaluationBox.value.substring(0, 100)
            });
        });

        // æ¥æºé“¾æ¥ç‚¹å‡»
        const sourceLinks = document.querySelectorAll('.btn-link');
        sourceLinks.forEach(link => {
            link.addEventListener('click', (event) => {
                event.preventDefault();
                alert('è¯¥é“¾æ¥éœ€è¦ä»˜è´¹è®¢é˜…æˆ–æ— æ³•è®¿é—®');
                
                dataLogger.logEvent('source_link_clicked', {
                    linkType: 'paywalled',
                    action: 'access_attempt'
                });
            });
        });

        // é¡µé¢ç¦»å¼€å‰ä¿å­˜æ•°æ®
        window.addEventListener('beforeunload', () => {
            dataLogger.logEvent('task_completed', {
                ratings: ratings,
                detailedEvaluation: evaluationBox.value,
                wordCount: evaluationBox.value.length,
                clickCount: clickCount,
                timeSpent: Date.now() - startTime
            });
            
            dataLogger.saveData();
        });
    </script>
</body>
</html>